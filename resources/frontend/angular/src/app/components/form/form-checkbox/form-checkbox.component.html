<div [formGroup]="group">
  <ng-container *ngFor="let checkbox of checkboxes; let i = index" formArrayName="checkboxes">
    <input type="checkbox" [formControlName]="i" />{{checkbox.name}}
    <br />
  </ng-container>
  <div
    class="form-check form-check-inline"
    *ngFor="let option of options; let j = index;"
  >
    <input
      class="form-check-input"
      type="checkbox"
      [formControlName]="field.name"
      [value]="option.value"

      [ngClass]="{ 'errore': group.controls[field.name]?.invalid && (group.controls[field.name]?.touched || group.controls[field.name]?.dirty), 'successo': !group.controls[field.name]?.invalid && (group.controls[field.name]?.touched || group.controls[field.name]?.dirty) }"
    />
    <label class="form-check-label" [ngClass]="{ 'errore': group.controls[field.name]?.invalid && (group.controls[field.name]?.touched || group.controls[field.name]?.dirty), 'successo': !group.controls[field.name]?.invalid && (group.controls[field.name]?.touched || group.controls[field.name]?.dirty) }">
      {{ option.label }}</label
    >
  </div>
</div>
